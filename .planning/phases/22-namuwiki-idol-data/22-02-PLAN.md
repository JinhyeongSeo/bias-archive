---
phase: 22-namuwiki-idol-data
plan: 02
type: execute
depends_on: ["22-01"]
files_modified: [src/lib/kpop-data.ts, package.json]
---

<objective>
kpopnet.json npm 패키지 의존성 제거 및 레거시 kpop-data.ts 파일 정리.

Purpose: 더 이상 사용하지 않는 kpopnet.json 패키지를 제거하여 번들 크기 감소 및 코드베이스 정리.
Output: kpopnet.json 의존성 제거, 사용하지 않는 kpop-data.ts 파일 제거 또는 정리
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/22-namuwiki-idol-data/22-01-SUMMARY.md
@src/lib/kpop-data.ts
@package.json

**22-01 완료 후:**
- API 라우트들이 selca.ts 파서 사용 중
- kpop-data.ts는 더 이상 사용되지 않음 (import 없음)
</context>

<tasks>

<task type="auto">
  <name>Task 1: kpop-data.ts 파일 제거</name>
  <files>src/lib/kpop-data.ts</files>
  <action>
22-01에서 API 라우트들이 selca.ts 파서로 전환되어 kpop-data.ts는 더 이상 사용되지 않음.

1. 먼저 kpop-data.ts를 import하는 파일이 없는지 확인:
   `grep -r "from '@/lib/kpop-data'" src/`

2. import가 없으면 src/lib/kpop-data.ts 파일 삭제

3. import가 있으면 해당 파일도 selca.ts로 전환 필요 (22-01에서 누락된 경우)
  </action>
  <verify>`grep -r "kpop-data" src/` 결과가 없음</verify>
  <done>kpop-data.ts 파일 제거됨, 모든 참조 제거됨</done>
</task>

<task type="auto">
  <name>Task 2: kpopnet.json 패키지 제거</name>
  <files>package.json</files>
  <action>
npm에서 kpopnet.json 패키지 제거.

```bash
npm uninstall kpopnet.json
```

이 명령으로:
- package.json의 dependencies에서 제거됨
- package-lock.json 업데이트됨
- node_modules에서 제거됨
  </action>
  <verify>
1. `grep "kpopnet" package.json` 결과 없음
2. `npm run build` 성공 (kpopnet.json import 없어야 함)
  </verify>
  <done>kpopnet.json 패키지가 package.json에서 제거됨</done>
</task>

<task type="auto">
  <name>Task 3: 최종 빌드 검증 및 기능 테스트</name>
  <files>N/A</files>
  <action>
전체 빌드 및 런타임 테스트 수행.

1. `npm run build` - 프로덕션 빌드 성공 확인
2. `npm run dev` 실행
3. 브라우저에서 테스트:
   - BiasManager 열기
   - "그룹으로 추가" 클릭
   - "IVE" 또는 "아이브" 검색 → 결과 표시 확인
   - 그룹 선택 → 멤버 목록 표시 확인
   - "최애 추가" 클릭
   - "장원영" 검색 → 자동완성에 멤버 + 그룹 정보 표시 확인

4. 2024년 신규 그룹도 검색 가능한지 확인 (ILLIT, UNIS 등)
  </action>
  <verify>
- 빌드 성공
- 그룹 검색 작동
- 멤버 조회 작동
- 개별 멤버 검색 작동
  </verify>
  <done>빌드 성공, 모든 K-pop 데이터 기능 정상 작동</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` 성공
- [ ] kpopnet.json이 package.json에 없음
- [ ] kpop-data.ts 파일이 삭제됨
- [ ] BiasManager 그룹 검색/멤버 조회 기능 정상 작동
</verification>

<success_criteria>
- kpopnet.json npm 패키지 제거됨
- kpop-data.ts 레거시 파일 제거됨
- 번들 크기 감소 (kpopnet.json ~770KB JSON 제거)
- 모든 K-pop 관련 기능 정상 작동
- Phase 22 완료
</success_criteria>

<output>
After completion, create `.planning/phases/22-namuwiki-idol-data/22-02-SUMMARY.md`:

# Phase 22 Plan 02: Cleanup and Verification Summary

**kpopnet.json 의존성 제거 완료, Phase 22 마무리**

## Accomplishments
- kpop-data.ts 레거시 파일 제거
- kpopnet.json npm 패키지 제거
- 번들 크기 최적화

## Files Created/Modified
- `src/lib/kpop-data.ts` - 삭제됨
- `package.json` - kpopnet.json 의존성 제거

## Decisions Made
[Any decisions]

## Issues Encountered
[Any issues and resolutions]

## Next Step
Phase 22 완료! 다음 마일스톤 또는 기능 추가 준비.
</output>
