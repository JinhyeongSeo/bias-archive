---
phase: 09-kgirls-parser
plan: 02
type: execute
depends_on: ["09-01"]
files_modified: [src/app/api/search/kgirls/route.ts, src/components/ExternalSearch.tsx]
domain: search
---

<objective>
kgirls.net 검색 기능 구현 - 외부 검색 모달에 kgirls.net 탭 추가

Purpose: kgirls.net 커뮤니티에서 키워드 검색하여 게시글 목록을 조회하고 저장
Output: kgirls.net 검색 API, ExternalSearch에 kgirls 탭 및 페이지네이션
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/08-heye-parser/08-02-SUMMARY.md (참조: heye.kr 검색 패턴)
@src/app/api/search/heye/route.ts (참조: 검색 API 구조)
@src/components/ExternalSearch.tsx

**Tech stack available:** cheerio HTML 파싱
**Established patterns:** pagination state management, platform-specific search

**kgirls.net 검색 분석:**
- XE CMS 검색 파라미터: search_target=title&search_keyword=검색어
- 검색 URL: /mgall?search_target=title&search_keyword=카리나&page=1
- 게시글 목록: a[href^="/mgall/"] 또는 a[href^="/issue/"]
- 썸네일: img[src*="/files/thumbnails/"]
</context>

<tasks>

<task type="auto">
  <name>Task 1: kgirls.net 검색 API 라우트 생성</name>
  <files>src/app/api/search/kgirls/route.ts</files>
  <action>
  heye.kr 검색 API를 참조하여 kgirls.net 검색 구현:
  - GET /api/search/kgirls?q=검색어&page=1&board=mgall
  - cheerio로 검색 결과 HTML 파싱
  - 게시글 ID, 제목, 썸네일, 작성자 추출
  - 페이지네이션 정보 추출
  - board 파라미터로 mgall/issue 선택 가능
  </action>
  <verify>curl "localhost:3000/api/search/kgirls?q=테스트" 응답 확인</verify>
  <done>검색 결과 JSON 반환 (results, totalPages, currentPage)</done>
</task>

<task type="auto">
  <name>Task 2: ExternalSearch에 kgirls.net 탭 추가</name>
  <files>src/components/ExternalSearch.tsx</files>
  <action>
  - Platform 타입에 'kgirls' 추가
  - kgirls.net 탭 버튼 추가 (핑크 테마)
  - searchKgirls 함수 구현 (API 호출)
  - kgirls 페이지네이션 상태 및 UI
  - kgirls 플랫폼 배지 스타일 추가
  </action>
  <verify>npm run build 성공, 검색 모달에서 kgirls 탭 표시</verify>
  <done>kgirls.net 검색/저장 기능 동작</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] 검색 모달에 kgirls.net 탭 표시
- [ ] kgirls.net 검색 결과 표시 및 페이지네이션 동작
- [ ] 검색 결과에서 저장 버튼 클릭 시 메타데이터 추출 및 저장
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- Phase 9 complete - kgirls.net 파서 및 검색 기능 완성
</success_criteria>

<output>
After completion, create `.planning/phases/09-kgirls-parser/09-02-SUMMARY.md`
</output>
