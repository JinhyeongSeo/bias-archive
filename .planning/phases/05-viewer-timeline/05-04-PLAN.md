---
phase: 05-viewer-timeline
plan: 04
type: execute
depends_on: []
files_modified: [src/components/LinkList.tsx, src/components/LayoutToggle.tsx, src/app/page.tsx, src/components/Sidebar.tsx]
---

<objective>
갤러리 & 레이아웃 전환 기능 - 그리드/리스트 뷰 + 태그별 앨범

Purpose: 사용자가 선호하는 방식으로 아카이브를 탐색할 수 있게 함
Output: 레이아웃 토글 UI, 리스트 뷰 모드, 태그별 앨범 페이지
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-plan.md
./summary.md
./.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@src/components/LinkList.tsx
@src/components/LinkCard.tsx
@src/components/Sidebar.tsx
@src/app/page.tsx

**Current state:**
- LinkList: 그리드 레이아웃만 지원
- Sidebar: 태그 목록 표시, 클릭 시 필터링
</context>

<tasks>

<task type="auto">
  <name>Task 1: 그리드/리스트 레이아웃 전환</name>
  <files>src/components/LayoutToggle.tsx, src/components/LinkList.tsx, src/app/page.tsx</files>
  <action>
1. src/components/LayoutToggle.tsx 생성:
   - Props: layout ('grid' | 'list'), onChange
   - 두 개의 아이콘 버튼 (그리드/리스트)
   - 현재 선택된 레이아웃 하이라이트

2. src/components/LinkList.tsx 수정:
   - layout prop 추가 (기본값 'grid')
   - grid: 기존 레이아웃 (grid-cols-1 sm:grid-cols-2 lg:grid-cols-3)
   - list: 세로 리스트 (flex-col, 카드 가로 레이아웃)

3. LinkCard 리스트 모드:
   - 썸네일 왼쪽, 정보 오른쪽
   - 가로 방향 레이아웃

4. src/app/page.tsx 수정:
   - layout 상태 추가 (localStorage 저장)
   - LayoutToggle 컴포넌트 배치 (검색창 옆 또는 상단)
  </action>
  <verify>레이아웃 토글 클릭 시 그리드/리스트 전환</verify>
  <done>그리드/리스트 레이아웃 전환 가능</done>
</task>

<task type="auto">
  <name>Task 2: 태그별 앨범/갤러리 뷰</name>
  <files>src/components/Sidebar.tsx, src/app/page.tsx</files>
  <action>
1. Sidebar.tsx 수정:
   - 태그 클릭 시 "앨범 모드" 진입
   - 선택된 태그 강조 표시
   - "전체 보기" 버튼 추가

2. 앨범 모드 UI:
   - 선택된 태그 이름 헤더로 표시
   - 해당 태그의 링크만 필터링
   - 링크 개수 표시

3. 다중 태그 선택 (선택적):
   - Ctrl/Cmd + 클릭으로 여러 태그 선택
   - AND 조건으로 필터링

4. URL 파라미터:
   - ?tags=tag1,tag2 형식으로 공유 가능
  </action>
  <verify>태그 클릭 시 해당 태그 링크만 표시</verify>
  <done>태그별 앨범 뷰로 콘텐츠 탐색 가능</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>레이아웃 전환 + 태그별 앨범</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. 레이아웃 토글 버튼 클릭 → 그리드/리스트 전환
    3. 페이지 새로고침 → 레이아웃 유지 (localStorage)
    4. 사이드바에서 태그 클릭 → 해당 태그 링크만 표시
    5. 다른 태그 클릭 → 필터 변경
    6. "전체 보기" 클릭 → 필터 해제
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build 성공
- [ ] 그리드/리스트 레이아웃 전환 작동
- [ ] 레이아웃 설정 localStorage 저장
- [ ] 태그 클릭 시 필터링 작동
- [ ] 전체 보기로 필터 해제
</verification>

<success_criteria>
- LayoutToggle 컴포넌트로 뷰 전환
- LinkList가 두 레이아웃 모두 지원
- 태그 클릭으로 앨범 모드 진입
- User verification passed
</success_criteria>

<output>
After completion, create `.planning/phases/05-viewer-timeline/05-04-SUMMARY.md`
</output>
